# muxun_microservices
muxun microservices repository

<details><summary> Домашнее задание №12 docker-1 </summary>\
<p>

* установлен docker из deb пакета
* запущен первый контейнер hello-world
* рассмотрен механизм запуска контейнеров
* рассмотрены команды docker create \ start \ attach \ exec \ commit
* создан образ и лог списка образов добавлен в файл docker-1.log
* изучены выводы команд docker inspect для образа и контейнера
* рассмотрены механизмы остановки контейнров и уничтожения контейнеров и образов


</p>
</details>



<details><summary> Домашнее задание №13 docker-2 </summary>
<p>

* создан новый проект docker
* установлен docker-machine 
* с помощью docker machine создан хост в GCP
* изучен механизм переключения с локального окружения на удаленные в docker-machine
  eval $(docker-machine env dockerhost)
* проверены pid изоляции в контейнере и на хост машине
* созданы необходимые файлы для создания докер образа
* написан dockerfile и собран образ
* добавлено правило файерволла для порта 9292 
* запущен docker контейнер 
 <img src="https://raw.githubusercontent.com/muxun/muxun.github.io/master/docker%20reddit%20machine.png"></img>

* зарегестрировался на docker hub
* запушен образ на docker hub
* проверен локальный запуск docker контейнера из образа с докер-хаба
<img src="https://raw.githubusercontent.com/muxun/muxun.github.io/master/docker%20localhost.png"></img>

* изучены способы остановки\старта\подключения с контейнерами и вывод информации по образам

</p></details>


<details> <summary> Домашнее задание №14 docker-3 </summary>
<p>

* создана файловая структура для микросервисного приложения
* написаны докерфайлы для сервисов 
* собраны образы сервисов
* сборка ui образа начата с шага,отличающегося от сборки образа коммента, так как они имеют одинаковые базовые слои ruby 
* создана сеть приложения
* запущенны контейнеры и проверена работа приложения 
<img src="https://raw.githubusercontent.com/muxun/muxun.github.io/master/docker%20microservices%20app.png"></img>

* произведена попытка улучшения докерфайлов
* создан объект volume для базы данных и пересоздано приложение с этим хранилищем
* созданы записи и комментарии, убиты контейнеры и перезапущенны вновь - информация в бд сохранена

</p>
</details>



<details> <summary> Домашнее задание №15 docker-4 </summary>
<p>

* запущены контейнеры jofftron/docker-net-tools с различными сетями none host bridge
* изучены команды ifconfig для хостовой машины и контейнера на ней - информация идентична
* запущен несколько раз контейнер с nginx - завелся только один, остальные упали с ошибкой - логи говорят о том что порт (80) уже занят
* запущен проект с использованием бридж сети и алиасов для контейнеров
* проект запущен с двумя сетями и разграничением на бэкенд и фронтенд
* изучены bridge интерфейсы для каждой из сетей на хосте
* рассмотрим правила iptables
* создан docker-compose.yml для запуска приложения
* доработан docker-compose.yml - параметризованы порты 9292 UI_PORT и версии докер-образов VERSION и записаны в файл .env
* базовое имя проекта образуется по папке,в которой лежит compose-file
  изменить его можно через экспорт переменной -  export COMPOSE_PROJECT_NAME=foo 
* для изменения кода приложения запущенного контейнера по всей видимости нужно прибегнуть к понятию volume. подозреваю, что нужно на хост машину скачать папки с сорцами программ и с помощью директивы volume  примонтировать внутрь контейнеров в папки /app 
 host_src_path:/app 
</p>
</details>


<details> <summary> Домашнее задание №17 monitoring1-4 </summary>
<p>
  
* запущена vm машина dockerhost
* запущен промитиус в докере
* просмотрены основные метрики прометеуса
* собраны образы микросервисного приложения и доббавлен докер-компоуз с промитеусом
* просмотренны healthchecks приложений
* остановлены и запущены сервисы для отображения реакции прометеуса
* реализован node-exporter 
* на основе percona/mongodb внедрен экспортер для mongo db
* внедрен blackbox экспортер в проект

</p>
</details>


